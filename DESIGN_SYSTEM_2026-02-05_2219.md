# DESIGN_SYSTEM (Apple-Style Refresh)

Last updated: 2026-02-05 22:19
Source of truth: `src/design_system.py` and `assets/styles.css`

## 1. Design Principles

- Mobile-first interactions.
- Minimal motion and calm hierarchy.
- Neutral palette with restrained blue accent.
- Reusable component primitives via shared helpers.

## 2. Color Tokens

### Light Theme

- `primary`: `#111111`
- `primary_variant`: `#1D1D1F`
- `accent`: `#0071E3`
- `accent_dark`: `#0066CC`
- `background`: `#F5F5F7`
- `surface`: `#FFFFFF`
- `success`: `#34C759`
- `warning`: `#FF9F0A`
- `error`: `#FF3B30`
- `info`: `#0071E3`
- `text_primary`: `#111111`
- `text_secondary`: `#6E6E73`
- `text_disabled`: `#A1A1A6`
- `border_strong`: `#1D1D1F`
- `border_medium`: `#D2D2D7`
- `border_light`: `#E5E5EA`

### Dark Theme

- `primary`: `#FFFFFF`
- `primary_variant`: `#E5E5E5`
- `accent`: `#0A84FF`
- `accent_dark`: `#006EDB`
- `background`: `#0B0B0C`
- `surface`: `#1C1C1E`
- `success`: `#30D158`
- `warning`: `#FF9F0A`
- `error`: `#FF453A`
- `info`: `#0A84FF`
- `text_primary`: `#F5F5F7`
- `text_secondary`: `#8E8E93`
- `text_disabled`: `#636366`
- `border_strong`: `#F5F5F7`
- `border_medium`: `#2C2C2E`
- `border_light`: `#3A3A3C`

## 3. Spacing Tokens

- `xs`: `0.25rem`
- `sm`: `0.5rem`
- `md`: `1rem`
- `lg`: `1.5rem`
- `xl`: `2rem`
- `2xl`: `3rem`

## 4. Typography Tokens

- Body font: `-apple-system, "SF Pro Text", "SF Pro Display", "Segoe UI", system-ui, sans-serif`
- Heading font: same as body (no secondary font)

Common scale usage in current UI:
- Metric value: `1.875rem`
- Section header labels: `0.75rem` uppercase
- Main page header: approximately `2.5rem` desktop, reduced on mobile

## 5. Motion Tokens

- `transition-fast`: `120ms ease-out`
- `transition-standard`: `180ms ease-out`
- `transition-slow`: `240ms ease-out`

Key animations:
- Subtle hover emphasis (shadow/border only).
- Skeleton shimmer (`1.5s` infinite).
- Main area fade-in on page render.

## 6. Shape and Layout Tokens

- Standard radius: `10px`
- Large radius usage: `16px` (hero/info cards)
- Default control/card border: `1px` (subtle)
- Strong emphasis border for active/today cards: `2px`
- Border width tokens:
  - `border-width-subtle`: `1px`
  - `border-width-strong`: `2px`

## 7. Responsive Breakpoints

- Tablet/mobile threshold: `max-width: 768px`
- Small phone threshold: `max-width: 480px`

Mobile behavior requirements currently used:
- Inputs/buttons minimum touch height: `48px` on mobile override.
- Base control minimum height: `44px`.
- Column stacks into single-column behavior.
- Main content horizontal padding reduced for narrow screens.

## 8. Core Component Styles

- Buttons:
  - Default: bordered, `10px` radius, subtle hover shadow only.
  - Primary/accent: blue background, white text, darker hover state.

- Metric cards:
  - Surface background, medium border, light shadow.

- Exercise cards:
  - Medium border, block/exercise emphasis, 4-cell metric grid.

- Day cards:
  - Weekly calendar card with optional `today` accent state.

- Empty states:
  - Centered title/description with padded container; icon optional.

- Progress bars:
  - Solid accent fill on neutral track with eased width transitions.

## 9. Theming Implementation Notes

- Theme switching is controlled by `st.session_state['dark_mode']`.
- CSS variables define both light and dark modes.
- `get_colors()` in `src/design_system.py` provides runtime color maps for inline-rendered components.

## 10. Current Consistency Note

- Most shared styling follows tokenized values.
- Page-level inline styles should continue to normalize to tokens to avoid drift.
